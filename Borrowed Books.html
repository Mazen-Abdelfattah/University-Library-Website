
<!-- BorrowBooks.html -->

{% extends 'layouts/base.html' %}
{% load static %}

{% comment %} WE HAVE DELETED THE IMAGES, SO THERE WILL BE NO IMAGES IN THIS PAGE (right now) {% endcomment %}

{% block extrahead %}

{% endblock extrahead %}

{% block extrastyle %}
<link rel="stylesheet" href="{% static 'Styles/BookListing.css' %}" />
<style>
    .pagination {
        margin-top: 20px;
        text-align: center;
    }
    
    .pagination-link {
        margin: 0 5px;
        text-decoration: none;
        color: chocolate;
    }
    
    .current-page {
        margin: 0 5px;
        font-weight: bold;
    }
    
    .disabled-pagination-link {
        margin: 0 5px;
        color: #ccc;
    }
    
    .filter-form {
    text-align: center;
    margin-top: 20px;
  }
  
  #category  {
    padding: 10px;
    border: 1px solid #00303f; /* Dark blue border */
    border-radius: 5px;
    width: 60%;
  }
  
  #category::placeholder {
    color: #00303f; /* Dark blue placeholder text color */
  }
  
  .filter-form button {
    padding: 10px 20px;
    background-color: #00303f; /* Dark blue button background */
    color: white; /* White button text color */
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
  
  .sfilter-form button:hover {
    background-color: #023f51; /* Darker blue on hover */
  }
  
</style>




{% endblock extrastyle %}

{% block content  %}
<div class="intro">
    <h1>Borrow Book</h1>
    <h3>Your Online Book Heaven</h3>
</div>  
<!-- Form for filtering books -->
<p >
    <form method="post" action="{% url 'borrowedBooks' %}" class="filter-form"  >
        {% csrf_token %}
        <label for="category">Filter by Category:</label>
        <input type="text" name="category" id="category">
        <button type="submit" >Filter</button>
    </form>
</p>


<!-- Display books --> 
<div class="books">
    {% for book in page_obj %}
    <div class="book">
        <h2>{{ book.title }}</h2>
    </div>
    {% empty %}
    <p>No books found.</p>
    {% endfor %}
</div>

<!-- Pagination links -->
{% if page_obj.has_other_pages %}
<div class="pagination">
    {% if page_obj.has_previous %}
    <a href="{{ base_url }}&page=1" class="pagination-link">&laquo; First</a>
    <a href="{{ base_url }}&page={{ page_obj.previous_page_number }}" class="pagination-link">&lt; Previous</a>
    {% else %}
    <span class="disabled-pagination-link">&laquo; First</span>
    <span class="disabled-pagination-link">&lt; Previous</span>
    {% endif %}

    {% for num in page_obj.paginator.page_range %}
    {% if page_obj.number == num %}
    <span class="current-page">{{ num }}</span>
    {% else %}
    <a href="{{ base_url }}&page={{ num }}" class="pagination-link">{{ num }}</a>
    {% endif %}
    {% endfor %}

    {% if page_obj.has_next %}
    <a href="{{ base_url }}&page={{ page_obj.next_page_number }}" class="pagination-link">Next &gt;</a>
    <a href="{{ base_url }}&page={{ page_obj.paginator.num_pages }}" class="pagination-link">Last &raquo;</a>
    {% else %}
    <span class="disabled-pagination-link">Next &gt;</span>
    <span class="disabled-pagination-link">Last &raquo;</span>
    {% endif %}
</div>
{% endif %}

{% endblock content %}
